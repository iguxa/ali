Задача

Есть две станции метро с разными турникетами: на первой станции турникет однонаправленный, работает только на вход, на другой станции турникет двунаправленный - через него можно и войти и выйти. Проход в метро через турникет осуществляется по карте, которая устроена как кошелек: можно пополнять на неограниченную сумму. Стоимость прохода - 30руб. Турникет пропускает человека если он заплатил за вход или хочет выйти через двунаправленный турникет. Через однонаправленный турникет выйти нельзя. Напишите программу на PHP для работы этих турникетов. Остальные детали устройства турникета по вашему желанию. Никаких rest-API не надо, нужен алгоритм и показать умение проектировать код.
<br><b>
По решению,использовал паттерны : </b>стратегия, шаблонный метод